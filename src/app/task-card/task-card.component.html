<div>

  <mat-card class="task-card">
    <div>

      <mat-card-header>
        <mat-card-title>{{task.name}}
          <div>
            <img *ngIf="userDetails?.profile_pic" src="{{userDetails?.profile_pic}}" matTooltip="{{userDetails?.email}}" alt="profile pictures">
            <button mat-icon-button id="buttons" *ngIf="!userDetails?.profile_pic" matTooltip="No Members Added to Task"><i id="add" class="fa-solid fa-user-plus"></i></button> 
          </div>
        </mat-card-title><button mat-icon-button matTooltip="Edit Task" id="icon"><i id="pen" class="fa-solid fa-file-pen"></i></button>
        <mat-card-subtitle>{{task.description}}</mat-card-subtitle>
      </mat-card-header>

      <button id="delete" matTooltip="Delete Task" color="warn" mat-icon-button (click)="deleteTask(task)" >
        <i id="trash" class="fa-solid fa-trash"></i>
      </button>
    </div>

    <mat-card-content>
      <button mat-icon-button type="button" (click)="isOpen = !isOpen" matTooltip="{{task.priority}}" cdkOverlayOrigin
        #trigger="cdkOverlayOrigin"><mat-icon id='{{task.priority}}'>flag</mat-icon></button>
      <!-- This template displays the overlay content and is connected to the button -->
      <ng-template cdkConnectedOverlay [cdkConnectedOverlayOrigin]="trigger" [cdkConnectedOverlayOpen]="isOpen">
        <ul type="none" class="priority-list">
          <li type="button" cdkOverlayOrigin #trigger="cdkOverlayOrigin" (click)="changepriority('Low')"><mat-icon
              id='Low'>flag</mat-icon><p>LOW</p><mat-icon *ngIf="task.priority == 'Low'">check</mat-icon></li>
          <li type="button" cdkOverlayOrigin #trigger="cdkOverlayOrigin" (click)="changepriority('Moderate')"><mat-icon
              id='Moderate'>flag</mat-icon>MODERATE<mat-icon *ngIf="task.priority == 'Moderate'">check</mat-icon></li>
          <li type="button" cdkOverlayOrigin #trigger="cdkOverlayOrigin" (click)="changepriority('High')"><mat-icon
              id='High'>flag</mat-icon>HIGH<mat-icon *ngIf="task.priority == 'High'">check</mat-icon></li>
        </ul>
      </ng-template>
    </mat-card-content>
    <mat-card-actions>

      <!-- <mat-select name="status" [(ngModel)]="task.status" #status="ngModel" (selectionChange)="changeStatus(task)">
        <mat-option *ngFor="let status of statuses" [value]="status">{{status}}</mat-option>
      </mat-select> -->
    </mat-card-actions>
    <!-- <mat-card-footer> -->
      <!-- <mat-progress-bar mode="determinate" value="50"></mat-progress-bar> -->
    <!-- </mat-card-footer> -->
  </mat-card>

</div>